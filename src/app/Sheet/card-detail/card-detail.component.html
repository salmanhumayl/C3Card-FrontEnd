<main id="main" class="main">

    <div class="pagetitle">
      <h1>Batch No :  {{BatchNo}}</h1>
      
    </div><!-- End Page Title -->
<section class="section">

      <div class="row">
        <div class="card">
          <div class="card-body">
        <div class="col-lg-6">
              <label for="inputNanme4" class="form-label" style="font-weight: bold;font-size: medium;">Select Date Card Received</label>
              <input type="text" class="form-control"
              id="receivedDate" 
              name="receivedDate"
              [(ngModel)]="brDate" 
              bsDatepicker
              [bsConfig]="datePickerConfig"/>              
        </div>
        <div class="col-lg-6">
          <button type="button" class="btn btn-success btn-lg mt-4" (click)="ReceviedCards()">Save  
              </button>

        </div>
      </div>
        </div>
    </div>

    <div class="row">
  
     <div class="col-lg-12">

     
  
        <div class="card">
          <div class="card-body">
          
            <!-- Table with hoverable rows -->
            <table class="table table-hover table-bordered ">
              <thead>
                <tr>
                  <th>S.No</th>
                  <th><input type="checkbox" class="form-check-input"  (change)="checkAllCheckBox($event)"></th>
                  <!-- <th><input type="checkbox" [(ngModel)]="allSelected" (change)="selettAll()"></th> -->
                   
                    <th>Emp No</th>
                    <th>Name</th>
                    <th>Designation</th>
                    <!-- <th>DOB</th> -->
                    <!-- <th>C.MOL</th> -->
                    <!-- <th>E.MOL</th>
                    <th>LC#</th> -->
                    <th>EM.ID</th>
                    <th>Nationality</th>
                    <th>Action</th>
                </tr>
              </thead>
              <tbody >
                <tr *ngFor="let e of Detail;let i=index" >
                  <td>{{i+1}}</td>
                  <td><input type="checkbox" [(ngModel)]="Detail[i].receivingStatus" class="form-check-input"></td>
                 
                    <td>{{e.empCode}}</td>
                    <td>{{e.empName}}</td>
                    <td>{{e.designation}}</td>
                    <!--<ng-template [ngIf]="e.dob!=null">
                        <td>{{e.dob | date:'dd'}}/{{e.dob | date:'MM'}}/{{e.dob | date:'yyyy'}}</td>
                    </ng-template>   -->
                    <!-- <td>{{e.molRegNo}}</td> -->
                    <!-- <td>{{e.labPersno}}</td>
                     <td>{{e.labIdNo}}</td> -->
                    <!--<ng-template [ngIf]="e.labIdExp!=null">
                        <td>{{e.labIdExp | date:'dd'}}/{{e.labIdExp | date:'MM'}}/{{e.labIdExp | date:'yyyy'}}</td>
                    </ng-template>
                    <ng-template [ngIf]="e.labIdExp==null">
                        <td></td>
                    </ng-template>  -->

                     <td>{{e.emiratesIdNumber}}</td> 
                     <td>{{e.nationality}}</td> 
                    <!-- <ng-template [ngIf]="e.emiratesIdExpiryDate!=null">
                        <td>{{e.emiratesIdExpiryDate | date:'dd'}}/{{e.emiratesIdExpiryDate | date:'MM'}}/{{e.emiratesIdExpiryDate | date:'yyyy'}}</td>
                    </ng-template>
                    <ng-template [ngIf]="e.emiratesIdExpiryDate==null">
                        <td></td>
                    </ng-template>    -->
                    <td>
                        <!-- <button type="button" class="btn btn-primary ms-2" (click)="UpdateReceivingStatus(e.empCode,'Y')">Yes</button>
                        <button type="button" class="btn btn-warning ms-2" (click)="UpdateReceivingStatus(e.empCode,'N')">No</button> -->
                        <button type="button" class="btn btn-danger " (click) ="Revert(e.empCode,e.projectCode)">Revert</button>
                        
                    </td>
                  
                </tr>
              </tbody>
            </table>
            <!-- End Table with hoverable rows -->
          </div>
        </div>
      </div>
    </div>
  </section>


   <!-- The Modal -->
   <div class="modal" id="myModal" [style.display]="showModal ? 'block' : 'none'">
    <div class="modal-dialog">
      <div class="modal-content">
      
       
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title"></h4>
          <button type="button" class="close" data-dismiss="modal" (click) = "hide()" >&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="col-lg-12">

          <div class="card">
            <div class="card-body">
              

              <!-- Vertical Form -->
              <form (ngSubmit)="onSubmitlogin(loginform)" #loginform="ngForm" class="row g-3 needs-validation" novalidate>


                <div class="col-12">
                  <label for="inputAddress" class="form-label">Mark As </label>
                  <select class="form-select" id="Status" name="UpdateModel.Status" [(ngModel)]="UpdateModel.Status" >
                    <option value=99 selected >Please Select</option>
                    <option value=5>Cash To Bank</option>
                    <option value=100>Cancellation</option>
                    <option value=0>Rejected</option>   

                </select>
            
               </div>
                <div class="col-12">
                  <label for="inputNanme4" class="form-label">Reason</label>
                  <input type="text" class="form-control" id="UpdateModel.Reason"  name="UpdateModel.Reason" [(ngModel)]="UpdateModel.Reason" >
                </div>
                             
              
                <div class="text-center">
                  <button  type="submit" [disabled]="loginform.invalid" class="btn btn-primary w-10" >Save</button>
                      
                 
                </div>
              </form><!-- Vertical Form -->

            </div>
          </div>

            

        </div>
        
        
        
      </div>
    </div>
</div>

</main><!-- End #main -->

{{this.Detail | json}}




